//
//  WBHttpManager.m
//  Quick-iOS
//
//  Created by LtRed on 15/11/9.
//  Copyright © 2015年 Lt-Red. All rights reserved.
//

#import "LTHttpManager.h"
#import "LTHttpTool.h"

#import "LTParam.h"
#import "LTHomePlayerLists.h"
#import "LTHistoryData.h"
#import "LTRequestModel.h"
#import "LTUserInfo.h"


@implementation LTHttpManager


+ (void)getPlayerListSuccess:(void (^)(LTHomePlayerLists *homePlayerLists))success failure:(void (^)(NSError *error))failure
{
    LTRequestModel* requestModel = [LTRequestModel new];
    
    requestModel.url = @"http://music.163.com/weapi/user/playlist?csrf_token=222bedfe5f8925f804807ad222243011";
    
    LTParam* param = [LTParam new];
    
    param.params = @"ObVB2A0WxKfvLdo+qzaQhtsNcq4c2p30HAC6d3e6cPjBWtq7vkdg0GtRyUUjM5112BoF3hbuOcQF32hWf9G0Gk6ZVd+wNVMDjAAyiWQV/bkQzL6sKJvqxSXYe4WF6wFyRp0C09zD0UjvuuBHtlbIwrjRZx0UCrRlBptrQVE7RHndLkN/n/WEF+vJWiciwIkjOycX9D1lUYjnl1EeQI4MxuQsJaGoQkTZ9ZxlMIFUEAs=";
    
    param.encSecKey = @"b042a5df889c4a9b9719149ad6fd85ac68ca08cb80ff525ca77a145ea745d46185e9c75a37cf040281f1df05743e1c4533a6d8bfc29892ebfa716a494c4cd1c89889e0168bf20caaadb6ca4b5490ca5d4fe0f7035e9b1462a7181102659deb12a9e1174973b0e240b5f9b4d750bb1fef28eba04dd98f0154c9a7d1403b17224d";
    
    requestModel.baseParam = param;
    
    requestModel.header = @{ @"Host": @"music.163.com",
                             @"Referer": @"http://music.163.com" };
    
    [LTHttpTool postWithRequestModel:requestModel resultClass:[LTHomePlayerLists class] success:success failure:failure];
}

+ (void)getPlayerListInfoSuccess:(void (^)(LTPlayList *playList))success failure:(void (^)(NSError *error))failure
{
    
    LTRequestModel* requestModel = [LTRequestModel new];
    
    requestModel.url = @"http://music.163.com/eapi/v3/playlist/detail";
    
    LTParam* param = [LTParam new];
    //我喜欢的音乐
    param.params = @"8DC1BDC42724718D65298B7ED2FDA170E14D621EB896C63E8E0FBC1DFA867E56C8B11D41A6AEDBF3FDE560882692FD0A97C1B8F8BEA4E566AA6D924FAAE856448F89CC6CD24235863277290531C3DD49F68F3E4BDF60E8B1B2EC612924774F8FCD82D29C67D82808CA949899EDEF5475761C8059B04EA7860FD9E09D4059EE2DB4F74736AAFA86C4B733A00811FD4E5166DFE1F2A77CC19E8AE88CA6353CF9E1755198AE6AB9BDB19108A9B4AE52E2E0F8FD45A65BD95700A560E2988DAA1D654544B2A92276423D1F6E62FB7835B2816ED72F8B2357ADF7D4A4DBD251F036AF3C3977428801809F77571B8115EF227D42B9D7001851D15A71EF7122F19A3A8D71DEAB1A54E7F1DF52CAB99D2F539B9A4DBD56D905D6496C613E88AF4EF6099B590A0244743A1FE55A92D2B773EE4BCAB4EB71C310B743CC632F5773767B051A71C3CC8619AB9B771627875D9AE37225C498BA0518224876966DD7267A9C79C08B647D4E5BFB18A291276499E47752EE5D5A86E1DE867587573414C9B06D0777";
//    //同步手机
//    param.params = @"8DC1BDC42724718D65298B7ED2FDA170E14D621EB896C63E8E0FBC1DFA867E56C8B11D41A6AEDBF3FDE560882692FD0A97C1B8F8BEA4E566AA6D924FAAE856448F89CC6CD24235863277290531C3DD49F68F3E4BDF60E8B1B2EC612924774F8FCD82D29C67D82808CA949899EDEF5475761C8059B04EA7860FD9E09D4059EE2DB4F74736AAFA86C4B733A00811FD4E5166DFE1F2A77CC19E8AE88CA6353CF9E1755198AE6AB9BDB19108A9B4AE52E2E068D906FB463C43352F76BB0DDB098307EB1928B5FBA4568AF7376C64B7D701076ED72F8B2357ADF7D4A4DBD251F036AF3C3977428801809F77571B8115EF227DDA9DCFE1776D99A151A2E6350B4B00DF9EA1DB3FF882A57A722C43D86A49BE92F767C5296A3B8DB87C0F854F2238DC7496F275E1206B993D06F5E4C46EC11FB6900AD5F5D6DD8B0B00CF8D6AA2C6FD5EA6EB3B5D8570B52C97407769AE1779013E9A4881026EB2C1534EF23F554232C2353B80E89D55D7BBD8D92AD42E275A6AC6A375719906E1C985D9A050017C74D3";
//    
//    //钢琴曲
//    param.params = @"8DC1BDC42724718D65298B7ED2FDA170E14D621EB896C63E8E0FBC1DFA867E56C8B11D41A6AEDBF3FDE560882692FD0A97C1B8F8BEA4E566AA6D924FAAE856448F89CC6CD24235863277290531C3DD49F68F3E4BDF60E8B1B2EC612924774F8FCD82D29C67D82808CA949899EDEF5475761C8059B04EA7860FD9E09D4059EE2DB4F74736AAFA86C4B733A00811FD4E5166DFE1F2A77CC19E8AE88CA6353CF9E1755198AE6AB9BDB19108A9B4AE52E2E040947D58BF835F0C2E64247C29C16439FBB8C29BABB4C855B0FD82B38260E4456ED72F8B2357ADF7D4A4DBD251F036AF3C3977428801809F77571B8115EF227DA00346CED4655944A2926ECD661A9BE88CD0C7B777E93166281C6C7BB3613B633061EBADE14A649BB7C9F71502A64675E4C29806FED008E2C4107C0D85F968ECB1710848E9ACA0458A21AC78349A3F5C29C38CD83E40279DEDD877767FF7CD8BA221CC732A743D35E24C9FA7116EE799B7F81975082B3DD5D4C227C0CC47394B0A0095CE91DC6EA82F4FDC6D69BC850A";
    
    requestModel.baseParam = param;
    
    requestModel.header = @{ @"Host": @"music.163.com",
                             @"Referer": @"http://music.163.com" };
    
    [LTHttpTool postWithRequestModel:requestModel resultClass:[LTPlayList class] success:success failure:failure];

}

//mac用户主页信息
+ (void)getUserDetailInfoSuccess:(void (^)(LTUserInfo *userInfo))success failure:(void (^)(NSError *error))failure
{
    
    LTRequestModel* requestModel = [LTRequestModel new];
    
    requestModel.url = @"http://music.163.com/eapi/v1/user/detail/6244670";
    
    LTParam* param = [LTParam new];
    
    param.params = @"29A8AA51F4DE8EA49ED2D200F0FF0762EE5DB1DEE576F2FCE217F3E5099594E5A11C2A4026F6783D74C33DDD2981C3324E18C0F397DFEE4E3FEC6D48EF5A3AAFDA86289C020138C207CE6F20B50899BE817BB35765F2DF23AFBEC0D912BB6ADE57E2DBB5C19220C20EE55DE2B6B8E0C0CC966047FAA6F248E367E56196463CCCD299C93C9F267ED2E3BB8FD05AE4B503293471CCDF54EA0FB9623B0F5BCC51AA5E016DB8597920E1F7CABBDF068D775E96364EE7EF411907E85263AB4E8B5F4DCB46100BD574A4D04868A7B83CD7CE9EB13080AB40D5F0A84AF42CF28661428761CB5CA2268A3EBE75677FAD299583C4963B72DF16A1DCD3F6B7916E46B1E29FB29AD7DF8F997105720B42B70B872031531B9273A4ADB0C6E911FC29157E8626B98B0E8224C4656DBE107B1C411B3027D8C6C549796C730382AF4E77C69D61BD4F8D222688257404E43A2E9EC7392E5962E2216B04685AF5C71091E122B9B1C25E9478AF74E407DBF37496034BEE8D424E9105D192E2CABA79A3DBB40359B5AA";
    
    requestModel.baseParam = param;
    
    requestModel.header = @{ @"Host": @"music.163.com",
                             @"Referer": @"http://music.163.com",
                             @"Cookie" : @"appver=1.4.2; os=osx; MUSIC_U=01992dae505be9aedcce666b2d6368055b2fcdf4ff413bd71888a5d1f110ab45fcab795b4699e40035edffa7050425a3a70b41177f9edcea; deviceId=DFAA4C91-A89D-52EE-AA12-64F746EE4226%7C9FF3F43F-972C-4701-B3ED-F04377A7BE53; __csrf=67752a3884a4122bf7f45f29f6451cdc; channel=netease; __remember_me=true; osver=%E7%89%88%E6%9C%AC%2010.11.2%EF%BC%88%E7%89%88%E5%8F%B7%2015C50%EF%BC%89;" };
    
    [LTHttpTool postWithRequestModel:requestModel resultClass:[LTUserInfo class] success:success failure:failure];
    
}

+ (void)getHistoryDataSuccess:(void (^)(LTHistoryData *historyData))success failure:(void (^)(NSError *error))failure
{
    LTRequestModel* requestModel = [LTRequestModel new];
    
    requestModel.url = @"http://music.163.com/weapi/v1/play/record?csrf_token=222bedfe5f8925f804807ad222243011";
    
    LTParam* param = [LTParam new];
    
    param.params = @"ngdBfvdaH2zLL38d06lf7NyYerFQDAAxDhiVaghliDdStexPE08ziFaoHwdhQ3O7BhjWBYTrf6OSPL457eI9wCNYNSF3SARZZJ94aoL0MWBsEnJOYKnxbzCdBU7Ch0o9MaxLL8XHOat8rXRjJv9Dc3lYIoTRg9YF+8ESmqkd20EPLZBbaNp9rPnHyRw5YfCty45ZEYc/ZFJhrlnisPnlA13By0jnO+Vo53PmsXe7K2g=";
    
    param.encSecKey = @"ab6fab42802189439b144af0094f51f0f6e961dbd7bc7985df00d5a4b1b5158740d491d88bde0b18e933deef87cd98a4b59836f3123c368da7bd5837ead817ad1003ed785d2d00b3c2d847e20165ef916c6a64d6f907b1265a8c9afe3653fcff6838f0908ce8b620afb7a68341f4acda6999452e88c360bd4270873f77e714f2";
    
    requestModel.baseParam = param;
    
    requestModel.header = @{ @"Host": @"music.163.com",
                             @"Referer": @"http://music.163.com" };
    
    [LTHttpTool postWithRequestModel:requestModel resultClass:[LTUserInfo class] success:success failure:failure];
    
}

@end


